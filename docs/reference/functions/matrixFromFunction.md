---
layout: default
---

<!-- Note: This file is automatically generated from source code comments. Changes made in this file will be overridden. -->

<h1 id="function-matrixfromfunction">Function matrixFromFunction <a href="#function-matrixfromfunction" title="Permalink">#</a></h1>

Create a matrix by evaluating a generating function at each index.
The simplest overload returns a multi-dimensional array as long as `size`
is an array.
Passing `size` as a Matrix or specifying a `format` will result in
returning a Matrix.


<h2 id="syntax">Syntax <a href="#syntax" title="Permalink">#</a></h2>

```js
math.matrixFromFunction(size, fn)
math.matrixFromFunction(size, fn, format)
math.matrixFromFunction(size, fn, format, datatype)
math.matrixFromFunction(size, format, fn)
math.matrixFromFunction(size, format, datatype, fn)
```

<h3 id="where">Where <a href="#where" title="Permalink">#</a></h3>

   - `size: (number[] | Matrix)`
     A vector giving the extent of the array to be created in each
     dimension. If size has one entry, a vector is created; if it
     has two, a rectangular array/Matrix is created; if three, a
     three-dimensional array/Matrix is created; and so on.
   - `fn: (index: number[]) => MathType`
     The callback function that will generate the entries of the
     matrix. It is called in turn with the index of each entry of
     the matrix. The index is always an ordinary array of numbers
     with the same length as _size_. So for vectors, you will get
     indices like `[0]` or `[1]`, whereas for matrices, you will
     get indices like `[2, 0]` or `[1,3]`. The return value may
     be any type that can go in an array or Matrix entry, although
     if you supply the _datatype_ argument, you must yourself ensure
     the type of the return value matches. Note that currently,
     your callback _fn_ will receive 0-based indices for the matrix
     entries, regardless of whether matrixFromFunction is invoked
     directly from JavaScript or via the mathjs expression language.
   - `format: 'dense'|'sparse'`
     Specifies the storage format for the resulting Matrix. Note that
     if this argument is given, the return value will always be a
     Matrix (rather than possibly an Array).
   - `datatype: string`
     Specifies the data type of entries of the new matrix. If given,
     it should be the name of a data type that mathjs supports, as
     returned by the math.typeOf function. It is up to the caller
     to make certain that all values returned by _fn_ are consistent
     with this datatype if specified.

<h3 id="parameters">Parameters <a href="#parameters" title="Permalink">#</a></h3>

Parameter | Type | Description
--------- | ---- | -----------
`size` | Array &#124; Matrix | The size of the matrix to be created
`fn` | function | Callback function invoked for every entry in the matrix
`format` | string | The Matrix storage format, either `'dense'` or `'sparse'`
`datatype` | string | Type of the values

<h3 id="returns">Returns <a href="#returns" title="Permalink">#</a></h3>

Type | Description
---- | -----------
Array &#124; Matrix | Returns the created matrix


<h3 id="throws">Throws <a href="#throws" title="Permalink">#</a></h3>

Type | Description
---- | -----------


<h2 id="examples">Examples <a href="#examples" title="Permalink">#</a></h2>

```js
math.matrixFromFunction([3,3], i => i[0] - i[1]) // an antisymmetric matrix
math.matrixFromFunction([100, 100], 'sparse', i => i[0] - i[1] === 1 ? 4 : 0) // a sparse subdiagonal matrix
math.matrixFromFunction([5], i => math.random()) // a random vector
```


<h2 id="see-also">See also <a href="#see-also" title="Permalink">#</a></h2>

[matrix](matrix.html),
[typeOf](typeOf.html),
[zeros](zeros.html)
